<div class="app-container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <h2 class="sidebar-title">Jason Lai</h2>
    <div class="sidebar-links">
      <div>LANDSCAPES</div>
      <div>PORTRAITS</div>
      <div>URBAN</div>
      <div>ABSTRACT</div>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="main-content">
    <main class="content-wrapper">
      <header class="portfolio-header">
        <h1 class="main-title">
          <span class="gradient-text">
            Photo Portfolio
          </span>
        </h1>
        <p class="header-description">
          Capture all car plate with number 9987.
        </p>
      </header>

      <div class="photo-grid">
        @for (photo of photos(); track photo.id) {
        <div class="photo-card">
          <img [src]="photo.url" [width]="photo.width" [height]="photo.height" [alt]="photo.title" priority="false"
            class="photo-image" />
          <div class="card-content">
            <h3 class="photo-title">{{ photo.title }}</h3>
            <p class="photo-author">by {{ photo.author }}</p>
            <p class="photo-description">{{ photo.description }}</p>
          </div>
        </div>
        }
      </div>
    </main>
  </div>
</div>

<router-outlet />

<!-- Chat Widget -->
<div class="chat-widget">
  <div class="chat-header">
    <h3>Chat Support</h3>
  </div>
  <div class="chat-messages">
    @for (msg of messages(); track $index) {
    <div class="message" [class.agent-message]="msg.sender_type === 'Agent'"
      [class.user-message]="msg.sender_type !== 'Agent'">
      <div class="message-content">{{ msg.content }}</div>
      <div class="message-time">{{ msg.created_at }}</div>
    </div>
    }
  </div>
  <div class="chat-input-area">
    <input type="text" [value]="chatMessage()" (input)="onInput($event)" (keyup.enter)="sendMessage()"
      placeholder="Type a message..." />
    <button (click)="sendMessage()">Send</button>
  </div>
</div>